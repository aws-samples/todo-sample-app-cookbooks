[general]
# Path to the AWSLogs agent's state file. Agent uses this file to maintain
# client side state across its executions.
state_file = /var/awslogs/state/agent-state

[<%= node[:opsworks][:stack][:name] %>_rails]
datetime_format = [%Y-%m-%d %H:%M:%S]
log_group_name = <%= node[:opsworks][:stack][:name].gsub(' ','_') %>_rails
file = <%= node[:cwlogs][:railslogfile] %>
log_stream_name = <%= node[:opsworks][:instance][:hostname] %>

[<%= node[:opsworks][:stack][:name] %>_nginx]
datetime_format = [%d/%b/%Y:%H:%M:%S %z]
log_group_name = <%= node[:opsworks][:stack][:name].gsub(' ','_') %>_nginx
file = <%= node[:cwlogs][:nginxaccessfile] %>
log_stream_name = <%= node[:opsworks][:instance][:hostname] %>

[<%= node[:opsworks][:stack][:name] %>_opsworks]
datetime_format = [%Y-%m-%d %H:%M:%S]
log_group_name = <%= node[:opsworks][:stack][:name].gsub(' ','_') %>_opsworks
file = <%= node[:cwlogs][:agentlogfile] %>
log_stream_name = <%= node[:opsworks][:instance][:hostname] %>
